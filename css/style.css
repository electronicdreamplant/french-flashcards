:root{
  --page:#ffffff; --ink:#0b0c0c; --muted:#505a5f; --border:#b1b4b6; --focus:#fd0;
  --card:#ffeb3b; --card-border:#e0c44f;
}

html{box-sizing:border-box}
*,*:before,*:after{box-sizing:inherit}
html,body{height:100%}
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#fff;color:var(--ink);font-size:19px;line-height:1.5}

/* ---------- Topbar (now visible on desktop) ---------- */
.topbar{
  position:sticky; top:0; z-index:60;
  background:#fff; border-bottom:1px solid var(--border);
  padding:10px 12px; display:flex; align-items:center; gap:12px;
}
.topbar .brand{font-size:20px; margin:0}
.hamburger{
  background:#fff; border:2px solid var(--border); border-radius:6px;
  width:42px; height:42px; font-size:22px; line-height:1;
}
@media(min-width:961px){ .hamburger{display:none} }

/* ---------- Layout ---------- */
.app{display:grid;grid-template-columns:360px 1fr;min-height:100vh}
@media(max-width:960px){ .app{grid-template-columns:1fr} }

/* ---------- Sidebar ---------- */
.side{
  background:#fff;border-right:1px solid var(--border);
  position:sticky; top:0; height:calc(100vh - 52px); overflow:auto; z-index:50;
}
.side-inner{padding:24px}
.field{margin:16px 0}
.field label{display:block;font-weight:700;margin-bottom:6px}
select,input[type="text"]{
  width:100%;border:2px solid var(--border);padding:10px 12px;border-radius:0;background:#fff;color:var(--ink);font-size:19px
}
select:focus,input:focus,button:focus{outline:3px solid var(--focus);outline-offset:0}

/* Off-canvas for mobile */
@media(max-width:960px){
  .side{
    position:fixed; left:0; top:52px; height:calc(100vh - 52px);
    width:85vw; max-width:420px; transform:translateX(-100%);
    transition:transform .2s ease; box-shadow:0 8px 30px rgba(0,0,0,.2);
  }
  body.menu-open .side{ transform:translateX(0); }
  .scrim{ position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:40; }
  body.menu-open .scrim{ display:block; }
}

/* ---------- Buttons (bigger; GDS-like interactions) ---------- */
.btn{
  appearance:none;border:2px solid #0b0c0c;background:#0b0c0c;color:#fff;
  padding:14px 22px;font-weight:700;cursor:pointer;border-radius:4px;
  transition:filter .1s ease, transform .02s ease, box-shadow .02s ease;
  text-decoration:none; display:inline-flex; align-items:center; justify-content:center;
  font-size:20px; line-height:1;
}
.btn.secondary{background:#fff;color:#0b0c0c}
.btn.subtle{background:#fff;color:#0b0c0c;border-color:var(--border)}
.btn:hover{filter:brightness(0.93)}
.btn:active{transform:translateY(1px); box-shadow:inset 0 2px 0 rgba(0,0,0,.25)}
.btn[disabled], .btn:disabled{opacity:.5; cursor:not-allowed; filter:none; transform:none; box-shadow:none}

.btn.again{background:#d4351c;border-color:#d4351c;color:#fff}
.btn.good{ background:#00703c;border-color:#00703c;color:#fff}
.btn.easy{ background:#1d70b8;border-color:#1d70b8;color:#fff}

/* Segmented switch */
.seg{display:inline-flex;border:2px solid var(--border)}
.seg button{border:0;background:#fff;padding:10px 12px;font-size:19px;cursor:pointer;transition:background .1s, filter .1s}
.seg button:hover{filter:brightness(0.96)}
.seg button.active{background:#0b0c0c;color:#fff}

/* ---------- Stage ---------- */
.stageWrap{padding:24px}
.stats{font-size:16px;color:var(--muted);text-align:right;margin-bottom:8px}
.stage{display:flex;justify-content:center;align-items:flex-start}

/* Card */
.card{
  width:min(900px,92vw);min-height:260px;background:var(--card);
  border:2px solid var(--card-border);border-radius:6px;
  box-shadow:0 4px 10px rgba(0,0,0,.08);padding:18px;position:relative;cursor:pointer
}
.meta{position:absolute;top:12px;left:16px;font-size:16px;color:#1f1f1f}
.front .term{font-size:48px;line-height:1.1;font-weight:700;margin-top:34px}
.front .article{margin-right:.4rem}
.pron{font-size:18px;color:#1f1f1f;margin-top:6px}
.tags{margin-top:10px}
.tag{display:inline-block;background:#f3f2f1;border:1px solid var(--border);padding:2px 8px;margin-right:6px;font-size:16px}
.back .answer{font-size:48px;line-height:1.1;font-weight:700;margin-top:34px}
.sentence{font-size:20px;margin-top:10px}
.notes{margin-top:8px;color:#1f1f1f;font-size:18px}

/* Actions (two rows) */
.actions{position:sticky;bottom:0;display:flex;flex-direction:column;gap:12px;justify-content:center;margin-top:16px;padding:10px 0;background:transparent}
.actions-primary{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}
.actions-primary .btn{min-width:110px}
.actions-nav{display:flex;justify-content:center;gap:16px}
.actions-nav .btn{min-width:140px}

/* Empty state */
.empty{color:var(--muted);text-align:center;margin-top:12px}

/* Flip handling */
.back{display:none}
.card.flipped .front{display:none}
.card.flipped .back{display:block}

/* Bigger buttons on mobile */
@media(max-width:640px){
  .btn{ 
    font-size:24px; 
    padding:18px 26px; 
  }
  .actions-primary .btn{min-width:130px}
  .actions-nav .btn{min-width:170px}
}
